{% extends 'accounts/home.html' %} {% load static %} {% block content %}
<br />
{% load crispy_forms_tags %}

<div class="container-lg" style="margin: 30px auto; width: 50vw; height: 60vh">
  <div class="col-md-8 col-lg">
    <p>Checkout</p>
    <h4 class="d-flex justify-content-between align-items-center mb-3">
      <span class="text-primary">Review item(s) and Billing</span>
      <span class="badge bg-primary rounded-pill">{{quantity}}</span>
    </h4>
    <ul class="list-group mb-5">
      <li class="list-group-item d-flex justify-content-between lh-sm">
        <div>
          <h6 class="my-0">Product</h6>
        </div>

        <span class="text-muted">{{product}}</span>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-sm">
        <div>
          <h6 class="my-0">Order Quantity</h6>
        </div>

        <span class="text-muted">{{quantity}}</span>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-sm">
        <div>
          <h6 class="my-0">Unit Price</h6>
        </div>

        <span class="text-muted">{{price}}</span>
      </li>
      <li class="list-group-item d-flex justify-content-between lh-sm">
        <div>
          <h6 class="my-0">Order Status</h6>
        </div>

        <span class="text-muted">{{status}}</span>
      </li>

      <li class="list-group-item d-flex justify-content-between">
        <span>Total (KSH)</span>
        <strong>Ksh.{{total_cost}}</strong>
      </li>

      <li class="card p-2">
        <div class="row justify-content-center">
          <div class="col-md-5">
            <form>
              <a
                href="{% url 'payment' id_int %}"
                type="submit"
                class="btn btn-md btn-block btn-secondary"
              >
                <strong>Proceed to Checkout</strong>
              </a>
            </form>
          </div>
          <div class="col-md-5">
            <a
              class="btn btn-danger btn-md btn-block btn-secondary"
              id="cancel-order"
              data-bs-toggle="modal"
              data-bs-target="#exampleModal"
            >
              <strong>Cancel</strong>
            </a>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>

<div
  class="modal modal-dialog-centered"
  style="
    display: none;
    position: absolute;
    top: 0;
    left: 0px;
    background-image: linear-gradient(
      180deg,
      rgba(0, 0, 0, 0.8),
      rgba(0, 0, 0, 0.8)
    );
  "
  tabindex="-1"
  id="dialog-box"
>
  <div
    class="modal-dialog"
    style="
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 40vw;
      height: 50vh;
    "
  >
    <div class="modal-content container">
      <div class="modal-header">
        <h5 class="modal-title">Are you sure you want to cancel your order?</h5>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer justify-content-around">
        <button
          type="button"
          class="btn btn-primary back-btn"
          style="min-width: 120px"
        >
          Back
        </button>

        <a
          href="/cancel_order/{{id_int}}/"
          type="button"
          class="btn btn-danger"
          data-bs-dismiss="modal"
        >
          Cancel Order
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}
